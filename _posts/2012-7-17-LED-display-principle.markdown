---
layout: post
title: "数码管显示原理"
description: "在LED和数码管显示方面，要维持一个数据的显示，往往要持续的快速的刷新。这就大大占用了处理器的处理时间，消耗了处理器的处理能力，还浪费了处理器的功耗。锁存器的使用可以大大的缓解处理器在这方面的压力。当处理器把数据传输到锁存器并将其锁存后，锁存器的输出引脚..."
category: MCU
tags: [数码管]
---



### 1.锁存器

在LED和数码管显示方面，要维持一个数据的显示，往往要持续的快速的刷新。这就大大占用了处理器的处理时间，消耗了处理器的处理能力，还浪费了处理器的功耗。锁存器的使用可以大大的缓解处理器在这方面的压力。当处理器把数据传输到锁存器并将其锁存后，锁存器的输出引脚便会一直保持数据状态直到下一次锁存新的数据为止。这样在数码管的显示内容不变之前，处理器的处理时间和IO引脚便可以释放。可以看出，处理器处理的时间仅限于显示内容发生变化的时候，这在整个显示时间上只是非常少的一个部分。而处理器在处理完后可以有更多的时间来执行其他的任务。这就是锁存器在LED和数码管显示方面的作用:节省了宝贵的MCU时间。

### 2.编码

定义编码的方法与C语言中定义数组的方法非常相似，不同之处在于数组类型后面多了一个code。例如：

```C
unsigned char code table[]=
{
0x3f,0x06,0x5b,0x4f,
0x66,0x6d,0x7d,0x07,
0x7f,0x6f,0x77,0x7c,
0x39,0x5e,0x79,0x71
}
```

这样做的好处是，C语言中定义的数组占用内存空间，而编码定义时直接分配到程序空间里。

### 3.位选和段选

位选控制的是哪个数码管亮而段选控制的则是数码管显示什么数字。

对于天祥开发板来说，由于数码管共阴极，所以位选选通时为低电平，控制段选则为高电平。